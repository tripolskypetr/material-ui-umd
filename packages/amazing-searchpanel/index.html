<link rel="stylesheet" href="../../3rdparty/typeface-roboto@0.0.75/typeface-roboto.css" />

<script src="../../3rdparty/@babel/standalone@7.12.4/babel.min.js"></script>
<script src="../../3rdparty/react@16.13.1/react.development.js"></script>
<script src="../../3rdparty/react-dom@16.13.1/react-dom.development.js"></script>
<script src="../../dist/material-ui.min.js"></script>
<script src="../../lib/form-tools/dist/form-tools.js"></script>

<style>
  html {
    background: #212121;
  }
</style>

<div id="mount-point"></div>

<script type="text/babel">
  (function () {

    const {
      createElement: h,
      Fragment,
    } = React;

    const {
      One,
      FieldType
    } = form;

    const {
      Box,
      List,
      ListItem,
      ListItemText,
    } = material.core;

    const {
      Search,
    } = material.icons;

    const {
      MuiThemeProvider,
      createMuiTheme,
      CssBaseline,
    } = material.core;

    const THEME_DARK = createMuiTheme({
      palette: {
        type: 'dark',
        primary: {
          main: '#90cbf9',
        },
        secondary: {
          main: '#90cbf9',
        },
        text: {
          primary: "#fff",
          secondary: "rgba(255, 255, 255, 0.7)",
          disabled: "rgba(255, 255, 255, 0.5)",
          hint: "rgba(255, 255, 255, 0.5)",
          icon: "rgba(255, 255, 255, 0.5)"
        },
        background: {
          paper: "#424242",
          default: "#212121",
          level2: "#333333",
          level1: "#212121"
        },
      },
    });

    const items = [
      "Мы работаем, чтобы иметь свободное время, и воюем, чтобы жить мирно.",
      "Два года человек учится говорить, а потом всю оставшуюся жизнь — молчать.",
      "Ум заключается не только в знании, но и в умении прилагать знание на деле.",
      "Не было еще ни одного великого ума без примеси безумства.",
      "Корни образования горькие, но плоды сладкие.",
      "Эгоизм заключается не в любви самого себя, а в большей, чем должно, степени этой любви.",
      "Риторика — это способность находить возможные способы убеждения относительно каждого данного предмета.",
      "Ясность — главное достоинство речи.", "Одни копят, словно должны жить вечно, другие тратят, словно тотчас умрут.",
      "Щедрый человек — это тот, кто дает подходящему человеку подходящую вещь в подходящее время.",
      "Друг — это одна душа, живущая в двух телах.",
      "Друг всем — ничей друг.",
      "Привычка — вторая натура.",
      "Властвует над страстями не тот, кто совсем воздерживается от них, но тот, кто пользуется ими так, как управляют кораблем или конем, то есть направляет их туда, куда нужно и полезно.",
      "Благо везде и повсюду зависит от соблюдения двух условий: правильного установления конечных целей и отыскания соответствующих средств, ведущих к конечной цели."
    ];

    const fields = [
      {
        type: FieldType.Text,
        placeholder: 'Поиск записи',
        fieldRightMargin: 0,
        leadingIcon: Search,
        name: 'search',
      },
      {
        type: FieldType.Component,
        compute: ({search}) => (
          <List>
            {items.filter((item) => item.includes(search)).map((v) => (
              <ListItem key={v}>
                <ListItemText primary={v} />
              </ListItem>
            ))}
          </List>
        ),
      },
    ];

    const App = () => (
      <MuiThemeProvider theme={THEME_DARK}>
        <CssBaseline/>
        <Box p={1}>
          <One fields={fields} />
        </Box>
      </MuiThemeProvider>
    );

    ReactDOM.render(<App />, document.querySelector('#mount-point'));

  })();
</script>