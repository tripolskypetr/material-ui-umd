
<script src="./src/loader.js"></script>

<div id="mount-point"></div>

<script>
  (function () {

    const {
      createElement: h,
    } = React;

    const {
      One,
    } = form;

    const fields = [
      {
        type: "group",
        fields: [
          {
            type: "line",
            title: "Вид стекла"
          },
          {
            title: "Бронза",
            type: "checkbox",
            name: "Бронза"
          },
          {
            title: "Матовое",
            type: "checkbox",
            name: "Матовое"
          },
          {
            title: "Осветленное",
            type: "checkbox",
            name: "Осветленное"
          },
          {
            title: "Прозрачное",
            type: "checkbox",
            name: "Прозрачное"
          },
          {
            title: "Серое",
            type: "checkbox",
            name: "Серое"
          },
          {
            type: "group",
            fields: [
              {
                type: "line",
                title: "Толщина стекла"
              },
              {
                title: "10 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "10 мм"
              },
              {
                title: "12 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "12 мм"
              },
              {
                title: "3 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "3 мм"
              },
              {
                title: "4 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "4 мм"
              },
              {
                title: "5 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "5 мм"
              },
              {
                title: "6 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "6 мм"
              },
              {
                title: "8 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "8 мм"
              },
              {
                type: "group",
                fields: [
                  {
                    type: "line",
                    title: "Форма изделия"
                  },
                  {
                    type: "group",
                    columns: "6",
                    fields: [
                      {
                        type: "line",
                        title: "Круг"
                      },
                      {
                        title: "Диаметр",
                        type: "string",
                        name: "Диаметр"
                      },
                      {
                        type: "group",
                        fields: [
                          {
                            type: "line",
                            title: "Обработка (круг)"
                          },
                          {
                            title: "Полировка",
                            type: "string",
                            name: "Полировка"
                          },
                          {
                            title: "Резка",
                            type: "string",
                            name: "Резка"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    type: "group",
                    columns: "6",
                    fields: [
                      {
                        type: "line",
                        title: "Прямоугольник"
                      },
                      {
                        title: "Длинна",
                        type: "string",
                        name: "Длинна",
                        defaultValue: 10,
                        inputType: 'number',
                      },
                      {
                        title: "Ширина",
                        type: "string",
                        name: "Ширина",
                        defaultValue: 20,
                        inputType: 'number',
                      },
                      {
                        title: "Площадь",
                        type: "string",
                        compute: (obj) => obj["Длинна"] * obj["Ширина"],
                        inputType: 'number',
                      },
                      {
                        type: "line",
                        title: "Доступно 500 единиц объема"
                      },
                      {
                        type: "progress",
                        compute: (obj) => obj["Длинна"] * obj["Ширина"],
                        maxPercent: 500,
                      },
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        type: "group",
        fields: [
          {
            type: "line",
            title: "Способ доставки"
          },
          {
            title: "Самовывоз",
            type: "switch",
            name: "Самовывоз",
          },
          {
            title: "Адрес",
            type: "string",
            name: "Адрес",
            isDisabled: (obj) => obj["Самовывоз"]
          },
        ]
      },
    ];

    const change = (obj) => console.log({ obj });

    const App = () => h(One, { fields, change });

    ReactDOM.render(h(App), document.getElementById('mount-point'));

  })();

</script>