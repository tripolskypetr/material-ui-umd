
<script src="./src/loader.js"></script>

<div id="mount-point"></div>

<script>
  (function () {

    const {
      createElement: h,
    } = React;

    const {
      One,
    } = form;

    const {
      SquareFoot,
      LensOutlined,
      VolumeDown,
      VolumeUp,
    } = material.icons;

    const Logger = (props) => h('i', null, 
      h('pre', null, 
        JSON.stringify(props, Object.keys(props).sort(), 2)
      )
    );

    const focus = () => console.log('focus');
    const blur = () => console.log('blur');

    const fields = [
      {
        type: "group",
        fields: [
          {
            type: "line",
            title: "Вид стекла"
          },
          {
            title: "Бронза",
            type: "checkbox",
            name: "Бронза"
          },
          {
            title: "Матовое",
            type: "checkbox",
            name: "Матовое"
          },
          {
            title: "Осветленное",
            type: "checkbox",
            name: "Осветленное"
          },
          {
            title: "Прозрачное",
            type: "checkbox",
            name: "Прозрачное"
          },
          {
            title: "Серое",
            type: "checkbox",
            name: "Серое"
          },
          {
            type: "group",
            fields: [
              {
                type: "line",
                title: "Толщина стекла"
              },
              {
                title: "10 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "10 мм"
              },
              {
                title: "12 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "12 мм"
              },
              {
                title: "3 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "3 мм"
              },
              {
                title: "4 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "4 мм"
              },
              {
                title: "5 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "5 мм"
              },
              {
                title: "6 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "6 мм"
              },
              {
                title: "8 мм",
                type: "radio",
                name: "Толщина стекла",
                radioValue: "8 мм"
              },
              {
                type: "group",
                fields: [
                  {
                    type: "line",
                    title: "Форма изделия"
                  },
                  {
                    type: "group",
                    columns: "6",
                    fields: [
                      {
                        type: "line",
                        title: "Круг"
                      },
                      {
                        title: "Диаметр",
                        type: "text",
                        name: "Диаметр",
                        defaultValue: 5,
                        leadingIcon: LensOutlined,
                      },
                      {
                        type: "group",
                        fields: [
                          {
                            type: "line",
                            title: "Обработка (круг)"
                          },
                          {
                            title: "Полировка",
                            type: "text",
                            name: "Полировка"
                          },
                          {
                            title: "Резка",
                            type: "text",
                            name: "Резка"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    type: "group",
                    columns: "6",
                    fields: [
                      {
                        type: "line",
                        title: "Прямоугольник"
                      },
                      {
                        title: "Длинна",
                        type: "text",
                        name: "Длинна",
                        defaultValue: 10,
                        inputType: 'number',
                        trailingIcon: SquareFoot,
                      },
                      {
                        title: "Ширина",
                        type: "text",
                        name: "Ширина",
                        defaultValue: 20,
                        inputType: 'number',
                        trailingIcon: SquareFoot,
                      },
                      {
                        title: "Площадь",
                        type: "text",
                        compute: (obj) => obj["Длинна"] * obj["Ширина"],
                        inputType: 'number',
                      },
                      {
                        type: "line",
                        title: "Доступно 500 единиц объема"
                      },
                      {
                        type: "progress",
                        compute: (obj) => obj["Длинна"] * obj["Ширина"],
                        maxPercent: 500,
                      },
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        type: "group",
        fields: [
          {
            type: "line",
            title: "Способ доставки"
          },
          {
            title: "Самовывоз",
            type: "switch",
            name: "Самовывоз",
            inputType: 'date',
          },
          {
            title: "Адрес",
            type: "text",
            name: "Адрес",
            focus, blur,
            isDisabled: (obj) => obj["Самовывоз"]
          },
        ]
      },
      {
        type: "line",
        title: "Слайдер",
      },
      {
        type: "slider",
        name: "Слайдер",
        leadingIcon: VolumeDown,
        trailingIcon: VolumeUp,
      },
      {
        type: "line",
        title: "Списки",
      },
      {
        type: "group",
        fields: [
          {
            type: "group",
            columns: "6",
            fields: [
              {
                type: "combo",
                title: "Выбор Элемента",
                description: "Выбор одного элемента",
                name: "Выбор Элемента",
                itemList: ["Элемент 1", "Элемент 2", "Элемент 3"]
              },
            ]
          },
          {
            type: "group",
            columns: "6",
            fields: [
              {
                type: "items",
                title: "Выбор Элементов",
                description: "Выбор нескольких элементов",
                name: "Выбор Элементов",
                itemList: ["Элемент 1", "Элемент 2", "Элемент 3"]
              },
            ]
          },
        ]
      },
      {
        type: "line",
        title: "Пользовательский компонент"
      },
      {
        type: "component",
        compute: Logger,
      },
    ];

    const change = (obj) => console.log({ obj });

    const App = () => h(One, { fields, change });

    ReactDOM.render(h(App), document.getElementById('mount-point'));

  })();

</script>